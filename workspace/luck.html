<!DOCTYPE html>
<html lang="ko">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>ìš´ë¹¨ ê²Œì„</title>
    <link rel="stylesheet" href="styles.css">
    <style>
        .luck-menu { display: grid; grid-template-columns: repeat(auto-fit, minmax(180px, 1fr)); gap: 15px; margin-bottom: 30px; }
        .luck-card { background: var(--bg-dark); padding: 25px; border-radius: 15px; text-align: center; 
                    cursor: pointer; transition: all 0.3s; }
        .luck-card:hover { background: var(--primary); color: white; transform: translateY(-5px); }
        .luck-icon { font-size: 2.5em; margin-bottom: 10px; }
        .game-container { display: none; background: var(--bg-dark); padding: 30px; border-radius: 20px; text-align: center; }
        .game-header { display: flex; justify-content: space-between; align-items: center; margin-bottom: 20px; }
        .points-display { font-size: 1.5em; font-weight: bold; color: var(--primary); }
        
        /* ì£¼ì‚¬ìœ„ */
        .dice-container { display: flex; justify-content: center; gap: 20px; margin: 30px 0; }
        .dice { width: 80px; height: 80px; background: white; border-radius: 10px; display: flex; 
               align-items: center; justify-content: center; font-size: 2.5em; transition: all 0.3s; }
        .dice.rolling { animation: roll 0.5s ease-in-out; }
        @keyframes roll { 0%, 100% { transform: rotate(0); } 50% { transform: rotate(720deg); } }
        
        /* ì¹´ë“œ */
        .card-deck { display: flex; justify-content: center; gap: 10px; margin: 30px 0; }
        .card { width: 100px; height: 140px; background: var(--bg-hover); border-radius: 10px; 
               display: flex; align-items: center; justify-content: center; font-size: 3em; 
               cursor: pointer; transition: all 0.3s; }
        .card:hover { transform: translateY(-10px); }
        .card.flipped { background: white; color: black; }
        
        /* ìŠ¬ë¡¯ë¨¸ì‹  */
        .slot-machine { display: flex; justify-content: center; gap: 10px; margin: 30px 0; }
        .slot { width: 80px; height: 100px; background: var(--bg-hover); border-radius: 10px; 
               display: flex; align-items: center; justify-content: center; font-size: 2.5em; 
               overflow: hidden; }
        .slot-inner { transition: transform 0.5s; }
        
        /* ë£°ë › */
        .roulette-container { position: relative; width: 300px; height: 300px; margin: 30px auto; }
        .roulette { width: 100%; height: 100%; border-radius: 50%; position: relative; 
                   background: conic-gradient(#ff4a4a 0deg 45deg, #4a9eff 45deg 90deg, 
                   #4aff4a 90deg 135deg, #ff9a4a 135deg 180deg, #ff4aff 180deg 225deg, 
                   #4affff 225deg 270deg, #ffff4a 270deg 315deg, #ff4a9e 315deg 360deg); 
                   transition: transform 3s cubic-bezier(0.17, 0.67, 0.12, 0.99); }
        .roulette-arrow { position: absolute; top: -20px; left: 50%; transform: translateX(-50%); 
                         width: 0; height: 0; border-left: 20px solid transparent; 
                         border-right: 20px solid transparent; border-top: 40px solid var(--danger); }
        
        .result-display { font-size: 1.5em; margin: 20px 0; padding: 20px; background: var(--bg-hover); 
                         border-radius: 10px; }
        .win { color: var(--secondary); }
        .lose { color: var(--danger); }
        
        @media (max-width: 768px) {
            .luck-menu { grid-template-columns: repeat(2, 1fr); }
            .dice { width: 60px; height: 60px; font-size: 2em; }
            .card { width: 80px; height: 120px; font-size: 2.5em; }
            .roulette-container { width: 250px; height: 250px; }
        }
    </style>
</head>
<body>
    <div class="container">
        <div class="page-header">
            <a href="index.html" class="back-btn">â† ë’¤ë¡œ</a>
            <h1>ìš´ë¹¨ ê²Œì„</h1>
        </div>
        
        <div class="content">
            <div class="points-display">í¬ì¸íŠ¸: <span id="points">1000</span></div>
            
            <div class="luck-menu" id="luckMenu">
                <div class="luck-card" onclick="startGame('dice')">
                    <div class="luck-icon">ğŸ²</div>
                    <h3>ì£¼ì‚¬ìœ„</h3>
                    <p>ìˆ«ì ë§ì¶”ê¸°</p>
                </div>
                <div class="luck-card" onclick="startGame('card')">
                    <div class="luck-icon">ğŸƒ</div>
                    <h3>ì¹´ë“œ ë½‘ê¸°</h3>
                    <p>ë†’ì€ ì¹´ë“œ</p>
                </div>
                <div class="luck-card" onclick="startGame('slot')">
                    <div class="luck-icon">ğŸ°</div>
                    <h3>ìŠ¬ë¡¯ë¨¸ì‹ </h3>
                    <p>777 ì­íŒŸ</p>
                </div>
                <div class="luck-card" onclick="startGame('roulette')">
                    <div class="luck-icon">ğŸ¯</div>
                    <h3>ë£°ë ›</h3>
                    <p>ìƒ‰ìƒ ë§ì¶”ê¸°</p>
                </div>
                <div class="luck-card" onclick="startGame('coin')">
                    <div class="luck-icon">ğŸª™</div>
                    <h3>ë™ì „ ë˜ì§€ê¸°</h3>
                    <p>ì•ë©´/ë’·ë©´</p>
                </div>
                <div class="luck-card" onclick="startGame('rps')">
                    <div class="luck-icon">âœ‚ï¸</div>
                    <h3>ê°€ìœ„ë°”ìœ„ë³´</h3>
                    <p>ìš´ëª…ì˜ ëŒ€ê²°</p>
                </div>
            </div>
            
            <!-- ì£¼ì‚¬ìœ„ ê²Œì„ -->
            <div class="game-container" id="diceGame">
                <div class="game-header">
                    <h2>ì£¼ì‚¬ìœ„ ê²Œì„</h2>
                    <button onclick="backToMenu()">ë©”ë‰´ë¡œ</button>
                </div>
                <p>1~6 ì¤‘ í•˜ë‚˜ë¥¼ ì„ íƒí•˜ì„¸ìš”. ë§ì¶”ë©´ 2ë°°!</p>
                <div style="margin: 20px 0;">
                    ë² íŒ…: <input type="number" id="diceBet" value="100" min="10" max="1000" style="width: 100px;">
                </div>
                <div style="display: flex; justify-content: center; gap: 10px; margin: 20px 0;">
                    <button onclick="guessDice(1)">1</button>
                    <button onclick="guessDice(2)">2</button>
                    <button onclick="guessDice(3)">3</button>
                    <button onclick="guessDice(4)">4</button>
                    <button onclick="guessDice(5)">5</button>
                    <button onclick="guessDice(6)">6</button>
                </div>
                <div class="dice-container">
                    <div class="dice" id="dice1">?</div>
                </div>
                <div class="result-display" id="diceResult"></div>
            </div>
            
            <!-- ì¹´ë“œ ê²Œì„ -->
            <div class="game-container" id="cardGame">
                <div class="game-header">
                    <h2>ì¹´ë“œ ë½‘ê¸°</h2>
                    <button onclick="backToMenu()">ë©”ë‰´ë¡œ</button>
                </div>
                <p>ì¹´ë“œë¥¼ ì„ íƒí•˜ì„¸ìš”. ë”œëŸ¬ë³´ë‹¤ ë†’ìœ¼ë©´ ìŠ¹ë¦¬!</p>
                <div style="margin: 20px 0;">
                    ë² íŒ…: <input type="number" id="cardBet" value="100" min="10" max="1000" style="width: 100px;">
                </div>
                <div class="card-deck" id="cardDeck">
                    <div class="card" onclick="drawCard(0)">?</div>
                    <div class="card" onclick="drawCard(1)">?</div>
                    <div class="card" onclick="drawCard(2)">?</div>
                    <div class="card" onclick="drawCard(3)">?</div>
                </div>
                <div class="result-display" id="cardResult"></div>
            </div>
            
            <!-- ìŠ¬ë¡¯ë¨¸ì‹  -->
            <div class="game-container" id="slotGame">
                <div class="game-header">
                    <h2>ìŠ¬ë¡¯ë¨¸ì‹ </h2>
                    <button onclick="backToMenu()">ë©”ë‰´ë¡œ</button>
                </div>
                <p>3ê°œê°€ ê°™ìœ¼ë©´ ì­íŒŸ!</p>
                <div style="margin: 20px 0;">
                    ë² íŒ…: <input type="number" id="slotBet" value="100" min="10" max="1000" style="width: 100px;">
                </div>
                <div class="slot-machine">
                    <div class="slot"><div class="slot-inner" id="slot1">7</div></div>
                    <div class="slot"><div class="slot-inner" id="slot2">7</div></div>
                    <div class="slot"><div class="slot-inner" id="slot3">7</div></div>
                </div>
                <button onclick="spinSlot()" style="padding: 15px 40px; font-size: 1.2em;">SPIN!</button>
                <div class="result-display" id="slotResult"></div>
            </div>
            
            <!-- ë£°ë › -->
            <div class="game-container" id="rouletteGame">
                <div class="game-header">
                    <h2>ë£°ë ›</h2>
                    <button onclick="backToMenu()">ë©”ë‰´ë¡œ</button>
                </div>
                <p>ìƒ‰ìƒì„ ì„ íƒí•˜ì„¸ìš”!</p>
                <div style="margin: 20px 0;">
                    ë² íŒ…: <input type="number" id="rouletteBet" value="100" min="10" max="1000" style="width: 100px;">
                </div>
                <div style="margin: 20px 0;">
                    <button onclick="betRoulette('red')" style="background: #ff4a4a;">ë¹¨ê°•</button>
                    <button onclick="betRoulette('blue')" style="background: #4a9eff;">íŒŒë‘</button>
                    <button onclick="betRoulette('green')" style="background: #4aff4a;">ì´ˆë¡</button>
                    <button onclick="betRoulette('yellow')" style="background: #ffff4a; color: black;">ë…¸ë‘</button>
                </div>
                <div class="roulette-container">
                    <div class="roulette" id="roulette"></div>
                    <div class="roulette-arrow"></div>
                </div>
                <div class="result-display" id="rouletteResult"></div>
            </div>
            
            <!-- ë™ì „ ë˜ì§€ê¸° -->
            <div class="game-container" id="coinGame">
                <div class="game-header">
                    <h2>ë™ì „ ë˜ì§€ê¸°</h2>
                    <button onclick="backToMenu()">ë©”ë‰´ë¡œ</button>
                </div>
                <p>ì•ë©´ ë˜ëŠ” ë’·ë©´ì„ ì„ íƒí•˜ì„¸ìš”!</p>
                <div style="margin: 20px 0;">
                    ë² íŒ…: <input type="number" id="coinBet" value="100" min="10" max="1000" style="width: 100px;">
                </div>
                <div style="margin: 20px 0;">
                    <button onclick="flipCoin('ì•ë©´')" style="padding: 20px 40px;">ì•ë©´</button>
                    <button onclick="flipCoin('ë’·ë©´')" style="padding: 20px 40px;">ë’·ë©´</button>
                </div>
                <div style="font-size: 5em; margin: 30px 0;" id="coinDisplay">ğŸª™</div>
                <div class="result-display" id="coinResult"></div>
            </div>
            
            <!-- ê°€ìœ„ë°”ìœ„ë³´ -->
            <div class="game-container" id="rpsGame">
                <div class="game-header">
                    <h2>ê°€ìœ„ë°”ìœ„ë³´</h2>
                    <button onclick="backToMenu()">ë©”ë‰´ë¡œ</button>
                </div>
                <p>ì»´í“¨í„°ì™€ ëŒ€ê²°!</p>
                <div style="margin: 20px 0;">
                    ë² íŒ…: <input type="number" id="rpsBet" value="100" min="10" max="1000" style="width: 100px;">
                </div>
                <div style="margin: 20px 0;">
                    <button onclick="playRPS('ê°€ìœ„')" style="font-size: 3em;">âœ‚ï¸</button>
                    <button onclick="playRPS('ë°”ìœ„')" style="font-size: 3em;">âœŠ</button>
                    <button onclick="playRPS('ë³´')" style="font-size: 3em;">âœ‹</button>
                </div>
                <div style="display: flex; justify-content: center; gap: 50px; margin: 30px 0;">
                    <div>
                        <div>ë‹¹ì‹ </div>
                        <div style="font-size: 4em;" id="playerChoice">â“</div>
                    </div>
                    <div style="font-size: 2em; align-self: center;">VS</div>
                    <div>
                        <div>ì»´í“¨í„°</div>
                        <div style="font-size: 4em;" id="computerChoice">â“</div>
                    </div>
                </div>
                <div class="result-display" id="rpsResult"></div>
            </div>
        </div>
    </div>
    
    <script>
        let points = parseInt(localStorage.getItem('luckPoints')) || 1000;
        updatePoints();
        
        function updatePoints() {
            document.getElementById('points').textContent = points;
            localStorage.setItem('luckPoints', points);
        }
        
        function startGame(game) {
            document.getElementById('luckMenu').style.display = 'none';
            document.querySelectorAll('.game-container').forEach(g => g.style.display = 'none');
            document.getElementById(game + 'Game').style.display = 'block';
        }
        
        function backToMenu() {
            document.querySelectorAll('.game-container').forEach(g => g.style.display = 'none');
            document.getElementById('luckMenu').style.display = 'grid';
        }
        
        // ì£¼ì‚¬ìœ„ ê²Œì„
        function guessDice(guess) {
            const bet = parseInt(document.getElementById('diceBet').value);
            if (bet > points) {
                alert('í¬ì¸íŠ¸ê°€ ë¶€ì¡±í•©ë‹ˆë‹¤!');
                return;
            }
            
            const dice = document.getElementById('dice1');
            dice.classList.add('rolling');
            
            setTimeout(() => {
                const result = Math.floor(Math.random() * 6) + 1;
                dice.textContent = result;
                dice.classList.remove('rolling');
                
                if (result === guess) {
                    points += bet;
                    document.getElementById('diceResult').innerHTML = 
                        `<span class="win">ë§ì·„ìŠµë‹ˆë‹¤! +${bet} í¬ì¸íŠ¸</span>`;
                } else {
                    points -= bet;
                    document.getElementById('diceResult').innerHTML = 
                        `<span class="lose">í‹€ë ¸ìŠµë‹ˆë‹¤! -${bet} í¬ì¸íŠ¸</span>`;
                }
                updatePoints();
            }, 500);
        }
        
        // ì¹´ë“œ ê²Œì„
        function drawCard(index) {
            const bet = parseInt(document.getElementById('cardBet').value);
            if (bet > points) {
                alert('í¬ì¸íŠ¸ê°€ ë¶€ì¡±í•©ë‹ˆë‹¤!');
                return;
            }
            
            const suits = ['â™ ', 'â™¥', 'â™¦', 'â™£'];
            const values = ['A', '2', '3', '4', '5', '6', '7', '8', '9', '10', 'J', 'Q', 'K'];
            const cards = document.querySelectorAll('.card');
            
            // í”Œë ˆì´ì–´ ì¹´ë“œ
            const playerValue = Math.floor(Math.random() * 13);
            const playerSuit = suits[Math.floor(Math.random() * 4)];
            cards[index].textContent = values[playerValue] + playerSuit;
            cards[index].classList.add('flipped');
            
            // ë”œëŸ¬ ì¹´ë“œ
            setTimeout(() => {
                const dealerValue = Math.floor(Math.random() * 13);
                const dealerSuit = suits[Math.floor(Math.random() * 4)];
                const dealerCard = cards[(index + 2) % 4];
                dealerCard.textContent = values[dealerValue] + dealerSuit;
                dealerCard.classList.add('flipped');
                
                if (playerValue > dealerValue) {
                    points += bet;
                    document.getElementById('cardResult').innerHTML = 
                        `<span class="win">ìŠ¹ë¦¬! +${bet} í¬ì¸íŠ¸</span>`;
                } else if (playerValue < dealerValue) {
                    points -= bet;
                    document.getElementById('cardResult').innerHTML = 
                        `<span class="lose">íŒ¨ë°°! -${bet} í¬ì¸íŠ¸</span>`;
                } else {
                    document.getElementById('cardResult').innerHTML = 'ë¬´ìŠ¹ë¶€!';
                }
                updatePoints();
                
                // ë¦¬ì…‹
                setTimeout(() => {
                    cards.forEach(c => {
                        c.textContent = '?';
                        c.classList.remove('flipped');
                    });
                }, 3000);
            }, 1000);
        }
        
        // ìŠ¬ë¡¯ë¨¸ì‹ 
        function spinSlot() {
            const bet = parseInt(document.getElementById('slotBet').value);
            if (bet > points) {
                alert('í¬ì¸íŠ¸ê°€ ë¶€ì¡±í•©ë‹ˆë‹¤!');
                return;
            }
            
            const symbols = ['7', 'ğŸ’', 'ğŸ‹', 'ğŸ””', 'ğŸ’', 'â­'];
            const slots = [
                document.getElementById('slot1'),
                document.getElementById('slot2'),
                document.getElementById('slot3')
            ];
            
            slots.forEach((slot, i) => {
                setTimeout(() => {
                    const symbol = symbols[Math.floor(Math.random() * symbols.length)];
                    slot.style.transform = 'translateY(-200%)';
                    setTimeout(() => {
                        slot.textContent = symbol;
                        slot.style.transform = 'translateY(0)';
                    }, 250);
                }, i * 200);
            });
            
            setTimeout(() => {
                const results = slots.map(s => s.textContent);
                if (results[0] === results[1] && results[1] === results[2]) {
                    const multiplier = results[0] === '7' ? 10 : 5;
                    points += bet * multiplier;
                    document.getElementById('slotResult').innerHTML = 
                        `<span class="win">ì­íŒŸ! +${bet * multiplier} í¬ì¸íŠ¸</span>`;
                } else if (results[0] === results[1] || results[1] === results[2]) {
                    points += bet;
                    document.getElementById('slotResult').innerHTML = 
                        `<span class="win">2ê°œ ì¼ì¹˜! +${bet} í¬ì¸íŠ¸</span>`;
                } else {
                    points -= bet;
                    document.getElementById('slotResult').innerHTML = 
                        `<span class="lose">ê½! -${bet} í¬ì¸íŠ¸</span>`;
                }
                updatePoints();
            }, 1000);
        }
        
        // ë£°ë ›
        let rouletteBet = null;
        function betRoulette(color) {
            const bet = parseInt(document.getElementById('rouletteBet').value);
            if (bet > points) {
                alert('í¬ì¸íŠ¸ê°€ ë¶€ì¡±í•©ë‹ˆë‹¤!');
                return;
            }
            
            rouletteBet = color;
            const roulette = document.getElementById('roulette');
            const rotation = Math.floor(Math.random() * 360) + 720;
            roulette.style.transform = `rotate(${rotation}deg)`;
            
            setTimeout(() => {
                const angle = rotation % 360;
                const colors = ['red', 'blue', 'green', 'yellow', 'pink', 'cyan', 'orange', 'purple'];
                const resultIndex = Math.floor(angle / 45);
                const resultColor = colors[resultIndex];
                
                if (resultColor === color || (resultIndex === 0 && color === 'red') || 
                    (resultIndex === 1 && color === 'blue') || (resultIndex === 2 && color === 'green') ||
                    (resultIndex === 6 && color === 'yellow')) {
                    points += bet * 2;
                    document.getElementById('rouletteResult').innerHTML = 
                        `<span class="win">ë§ì·„ìŠµë‹ˆë‹¤! +${bet * 2} í¬ì¸íŠ¸</span>`;
                } else {
                    points -= bet;
                    document.getElementById('rouletteResult').innerHTML = 
                        `<span class="lose">í‹€ë ¸ìŠµë‹ˆë‹¤! -${bet} í¬ì¸íŠ¸</span>`;
                }
                updatePoints();
            }, 3000);
        }
        
        // ë™ì „ ë˜ì§€ê¸°
        function flipCoin(choice) {
            const bet = parseInt(document.getElementById('coinBet').value);
            if (bet > points) {
                alert('í¬ì¸íŠ¸ê°€ ë¶€ì¡±í•©ë‹ˆë‹¤!');
                return;
            }
            
            const coin = document.getElementById('coinDisplay');
            coin.style.animation = 'none';
            setTimeout(() => {
                coin.style.animation = 'roll 1s ease-in-out';
            }, 10);
            
            setTimeout(() => {
                const result = Math.random() < 0.5 ? 'ì•ë©´' : 'ë’·ë©´';
                coin.textContent = result === 'ì•ë©´' ? 'ğŸŸ¡' : 'âš«';
                
                if (result === choice) {
                    points += bet;
                    document.getElementById('coinResult').innerHTML = 
                        `<span class="win">${result}! ë§ì·„ìŠµë‹ˆë‹¤! +${bet} í¬ì¸íŠ¸</span>`;
                } else {
                    points -= bet;
                    document.getElementById('coinResult').innerHTML = 
                        `<span class="lose">${result}! í‹€ë ¸ìŠµë‹ˆë‹¤! -${bet} í¬ì¸íŠ¸</span>`;
                }
                updatePoints();
            }, 1000);
        }
        
        // ê°€ìœ„ë°”ìœ„ë³´
        function playRPS(playerChoice) {
            const bet = parseInt(document.getElementById('rpsBet').value);
            if (bet > points) {
                alert('í¬ì¸íŠ¸ê°€ ë¶€ì¡±í•©ë‹ˆë‹¤!');
                return;
            }
            
            const choices = ['ê°€ìœ„', 'ë°”ìœ„', 'ë³´'];
            const emojis = { 'ê°€ìœ„': 'âœ‚ï¸', 'ë°”ìœ„': 'âœŠ', 'ë³´': 'âœ‹' };
            const computerChoice = choices[Math.floor(Math.random() * 3)];
            
            document.getElementById('playerChoice').textContent = emojis[playerChoice];
            document.getElementById('computerChoice').textContent = 'â“';
            
            setTimeout(() => {
                document.getElementById('computerChoice').textContent = emojis[computerChoice];
                
                let result;
                if (playerChoice === computerChoice) {
                    result = 'ë¬´ìŠ¹ë¶€';
                    document.getElementById('rpsResult').innerHTML = 'ë¬´ìŠ¹ë¶€! ë‹¤ì‹œ ë„ì „í•˜ì„¸ìš”';
                } else if (
                    (playerChoice === 'ê°€ìœ„' && computerChoice === 'ë³´') ||
                    (playerChoice === 'ë°”ìœ„' && computerChoice === 'ê°€ìœ„') ||
                    (playerChoice === 'ë³´' && computerChoice === 'ë°”ìœ„')
                ) {
                    points += bet;
                    document.getElementById('rpsResult').innerHTML = 
                        `<span class="win">ìŠ¹ë¦¬! +${bet} í¬ì¸íŠ¸</span>`;
                } else {
                    points -= bet;
                    document.getElementById('rpsResult').innerHTML = 
                        `<span class="lose">íŒ¨ë°°! -${bet} í¬ì¸íŠ¸</span>`;
                }
                updatePoints();
            }, 1000);
        }
    </script>
</body>
</html>