<!DOCTYPE html>
<html lang="ko">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>날씨</title>
    <link rel="stylesheet" href="styles.css">
    <style>
        .weather-display { text-align: center; padding: 40px; background: var(--bg-dark); 
                          border-radius: 20px; margin-bottom: 20px; }
        .weather-icon { font-size: 5em; margin: 20px 0; }
        .temp-display { font-size: 3em; font-weight: bold; color: var(--primary); }
        .weather-controls { display: grid; grid-template-columns: repeat(auto-fit, minmax(200px, 1fr)); 
                           gap: 15px; background: var(--bg-dark); padding: 20px; border-radius: 15px; }
        .control-group { display: flex; flex-direction: column; gap: 5px; }
        .control-group label { color: var(--text-secondary); font-size: 0.9em; }
        .weather-info { display: grid; grid-template-columns: repeat(auto-fit, minmax(150px, 1fr)); 
                       gap: 15px; margin-top: 20px; }
        .info-card { background: var(--bg-hover); padding: 15px; border-radius: 10px; text-align: center; }
        .info-value { font-size: 1.5em; font-weight: bold; color: var(--primary); }
        .slider { width: 100%; }
        .clothing { background: var(--bg-dark); padding: 20px; border-radius: 15px; 
                   margin-top: 20px; text-align: center; }
        .clothing-icon { font-size: 3em; margin-bottom: 10px; }
    </style>
</head>
<body>
    <div class="container">
        <div class="page-header">
            <a href="index.html" class="back-btn">← 뒤로</a>
            <h1>오늘의 날씨</h1>
        </div>
        
        <div class="content">
            <div class="weather-display">
                <div class="weather-icon" id="weatherIcon">☀️</div>
                <div class="temp-display" id="temperature">20°C</div>
                <div id="weatherDesc">맑음</div>
                
                <div class="weather-info">
                    <div class="info-card">
                        <div class="info-value" id="feelsLike">20°C</div>
                        <div>체감온도</div>
                    </div>
                    <div class="info-card">
                        <div class="info-value" id="humidity">50%</div>
                        <div>습도</div>
                    </div>
                    <div class="info-card">
                        <div class="info-value" id="wind">5m/s</div>
                        <div>풍속</div>
                    </div>
                </div>
            </div>
            
            <div class="weather-controls">
                <div class="control-group">
                    <label>날씨 상태</label>
                    <select id="weatherSelect" onchange="updateWeather()">
                        <option value="sunny">☀️ 맑음</option>
                        <option value="cloudy">☁️ 흐림</option>
                        <option value="rainy">🌧️ 비</option>
                        <option value="snowy">❄️ 눈</option>
                        <option value="stormy">⛈️ 폭풍</option>
                    </select>
                </div>
                
                <div class="control-group">
                    <label>온도 (<span id="tempValue">20</span>°C)</label>
                    <input type="range" id="tempRange" class="slider" min="-20" max="40" 
                           value="20" oninput="updateWeather()">
                </div>
                
                <div class="control-group">
                    <label>습도 (<span id="humidityValue">50</span>%)</label>
                    <input type="range" id="humidityRange" class="slider" min="0" max="100" 
                           value="50" oninput="updateWeather()">
                </div>
                
                <div class="control-group">
                    <label>풍속 (<span id="windValue">5</span>m/s)</label>
                    <input type="range" id="windRange" class="slider" min="0" max="30" 
                           value="5" oninput="updateWeather()">
                </div>
            </div>
            
            <div class="clothing">
                <div class="clothing-icon" id="clothingIcon">👕</div>
                <div id="clothingText">날씨에 맞는 옷차림을 추천해드립니다.</div>
            </div>
        </div>
    </div>
    
    <script>
        const weatherData = {
            sunny: { icon: '☀️', desc: '맑음' },
            cloudy: { icon: '☁️', desc: '흐림' },
            rainy: { icon: '🌧️', desc: '비' },
            snowy: { icon: '❄️', desc: '눈' },
            stormy: { icon: '⛈️', desc: '폭풍' }
        };
        
        function updateWeather() {
            const weather = document.getElementById('weatherSelect').value;
            const temp = parseInt(document.getElementById('tempRange').value);
            const humidity = parseInt(document.getElementById('humidityRange').value);
            const wind = parseInt(document.getElementById('windRange').value);
            
            // 날씨 표시
            document.getElementById('weatherIcon').textContent = weatherData[weather].icon;
            document.getElementById('weatherDesc').textContent = weatherData[weather].desc;
            document.getElementById('temperature').textContent = temp + '°C';
            
            // 슬라이더 값 표시
            document.getElementById('tempValue').textContent = temp;
            document.getElementById('humidityValue').textContent = humidity;
            document.getElementById('windValue').textContent = wind;
            
            // 정보 카드 업데이트
            document.getElementById('humidity').textContent = humidity + '%';
            document.getElementById('wind').textContent = wind + 'm/s';
            
            // 체감온도 계산
            let feelsLike = temp;
            if (temp <= 10 && wind > 5) {
                feelsLike = Math.round(temp - wind * 0.7);
            } else if (temp >= 25 && humidity > 60) {
                feelsLike = Math.round(temp + (humidity - 60) * 0.1);
            }
            document.getElementById('feelsLike').textContent = feelsLike + '°C';
            
            // 옷차림 추천
            updateClothing(temp, weather);
            
            // 로컬 스토리지 저장
            saveWeather();
        }
        
        function updateClothing(temp, weather) {
            let icon = '👕';
            let text = '';
            
            if (temp < 0) {
                icon = '🧥';
                text = '패딩, 두꺼운 코트, 목도리, 장갑이 필요해요.';
            } else if (temp < 10) {
                icon = '🧥';
                text = '코트나 자켓, 니트를 입으세요.';
            } else if (temp < 20) {
                icon = '👔';
                text = '긴팔 셔츠나 가디건이 적당해요.';
            } else if (temp < 28) {
                icon = '👕';
                text = '반팔 티셔츠가 좋아요.';
            } else {
                icon = '🎽';
                text = '민소매나 얇은 옷을 입으세요.';
            }
            
            if (weather === 'rainy' || weather === 'stormy') {
                text += ' 우산을 꼭 챙기세요! ☂️';
            } else if (weather === 'snowy') {
                text += ' 미끄럼 방지 신발을 신으세요! 👢';
            }
            
            document.getElementById('clothingIcon').textContent = icon;
            document.getElementById('clothingText').textContent = text;
        }
        
        function saveWeather() {
            const data = {
                weather: document.getElementById('weatherSelect').value,
                temp: document.getElementById('tempRange').value,
                humidity: document.getElementById('humidityRange').value,
                wind: document.getElementById('windRange').value
            };
            localStorage.setItem('weather', JSON.stringify(data));
        }
        
        function loadWeather() {
            const saved = localStorage.getItem('weather');
            if (saved) {
                const data = JSON.parse(saved);
                document.getElementById('weatherSelect').value = data.weather || 'sunny';
                document.getElementById('tempRange').value = data.temp || 20;
                document.getElementById('humidityRange').value = data.humidity || 50;
                document.getElementById('windRange').value = data.wind || 5;
                updateWeather();
            }
        }
        
        loadWeather();
    </script>
</body>
</html>